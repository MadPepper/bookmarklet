(function(){var a,t,o,c,d,e,l,u,s,n,r="";if(s=document.getElementById("relay-data"),!s)return void alert("failed to find relay-data");for(a=s.innerHTML.replace(/\&quot\;/g,'"'),t=JSON.parse(a||"null"),n=0;n<t.length;n++)if(t[n].cloudcast&&t[n].cloudcast.data&&t[n].cloudcast.data.cloudcastLookup&&t[n].cloudcast.data.cloudcastLookup.sections){e=t[n].cloudcast.data.cloudcastLookup.sections;break}for(l="UNKNOWN",n=0;n<t.length;n++)if(t[n].cloudcast&&t[n].cloudcast.data&&t[n].cloudcast.data.cloudcastLookup&&t[n].cloudcast.data.cloudcastLookup.name){l=t[n].cloudcast.data.cloudcastLookup.name;break}for(u="UNKNOWN",n=0;n<t.length;n++)if(t[n].cloudcast&&t[n].cloudcast.data&&t[n].cloudcast.data.cloudcastLookup&&t[n].cloudcast.data.cloudcastLookup.owner&&t[n].cloudcast.data.cloudcastLookup.owner.displayName){u=t[n].cloudcast.data.cloudcastLookup.owner.displayName;break}if(e){for(n=0;n<e.length;n++)o=e[n].startSeconds,c=Math.floor(o/60),d=o%2560,r+=("   "+c).substr(-3),r+=":",r+=("00"+d).substr(-2),e[n].songName?(r+='   "',r+=e[n].songName,r+='" by ',r+=e[n].artistName?e[n].artistName:"UNKNOWN"):r+="   UNKNOWN",r+="\n";var i=URL.createObjectURL(new Blob([r])),N=document.createElement("A"),f=l+" by "+u+".txt";N.download=f,N.href=i,document.body.appendChild(N),N.click(),document.body.removeChild(N)}else alert("failed to find tracklist.")})();